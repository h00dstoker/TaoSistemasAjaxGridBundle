<div class="grid">

{% if filter is defined %}
    <div class="filter" {% if grid.hideFilter == true%}style="display: none;"{% endif %}>
        {% block gridFilter %}

            {% block gridFilterStart %}
                {{ form_start(filter)}} {#<form action="{{ url(app.request.attributes.get('_route')) }}" method="post">#}
            {% endblock %}

                {% block gridFilterBody %}

                {% endblock %}

                <input class="not-clearable" type="hidden" name="page" value="{{ grid.currentPage }}">
                <input class="not-clearable" type="hidden" name="sort_col" value="{{ grid.sortedColumn }}">
                <input class="not-clearable" type="hidden" name="sort_dir" value="{{ grid.sortedDirection }}">

            {% block gridFilterEnd %}
                {{ form_end(filter)}}
            {% endblock %}

        {% endblock gridFilter %}
    </div>

{% else %} {# if has no filter defined we need these fields for paginator works #}

    <div class="filter" style="display: none;">
        <form method="post">
            <input class="not-clearable" type="hidden" name="page" value="{{ grid.currentPage }}">
            <input class="not-clearable" type="hidden" name="sort_col" value="{{ grid.sortedColumn }}">
            <input class="not-clearable" type="hidden" name="sort_dir" value="{{ grid.sortedDirection }}">
        </form>
    </div>

{% endif %}

    <div class='clearfix'></div>

    <div class="table-responsive">
        <table class="list table table-striped table-hover table-bordered">
            <thead>
               <tr id="trfirst">
                    {{ include('TaoSistemasAjaxGridBundle:Grid:columns.html.twig') }}
                </tr>
            </thead>
            {% block gridRows %}
                <tbody>
                    <tr>
                        <td></td>
                    </tr>
                </tbody>
            {% endblock gridRows %}
        </table>
    </div>

    {{ include('TaoSistemasAjaxGridBundle:Grid:batchActions.html.twig') }}

    {{ include('TaoSistemasAjaxGridBundle:Pager:paginator.html.twig') }}

{% block checkRow %}
    {% if item is defined %}
        {% if grid.batchActions|length > 0 and grid.rowIdentifier is not empty %}
            <td><input type="checkbox" class="item_id" name="id" value="{{ attribute(item, grid.rowIdentifier) }}"></td>
        {% endif %}
    {% endif %}
{% endblock %}

{% block gridJs %}

<script>

$(function() {
    //$('.grid').find('form').first().submit();
});

</script>

{% endblock gridJs %}

</div>